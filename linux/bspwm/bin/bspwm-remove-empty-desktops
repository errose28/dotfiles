#!/usr/bin/env sh

# Removes all desktops with no windows that are active (focused, or shown on other monitors).

empty_unfocused="$(bspc query -D -d .\!occupied.\!active)"

while IFS= read -r desktop; do
    if [ "$desktop" ]; then
        bspc desktop "$desktop" --remove
    fi
done <<< "$empty_unfocused"

