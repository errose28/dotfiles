#!/usr/bin/env sh

# Variables to set:
# NAME
# SCRIPT
# UPDATE_FREQ
# LABEL
# ICON
# ICON_FONT_SIZE

# Add the item if it is missing.
if ! sketchybar --query bar | jq -r '.items[]' | grep -q "$NAME"; then
    sketchybar --add item "$NAME" right
fi

sketchybar --set "$NAME" \
label.color='0xffffffff' \
associated_display=1,2 \
label.padding_right=10 \
label.font='Helvetica:Bold:14' \
icon.font="MesloLGS NF:Bold:$ICON_FONT_SIZE" \
script="$SCRIPT" \
update_freq="$UPDATE_FREQ" \
label="$LABEL" \
icon="$ICON" \
"$@"

